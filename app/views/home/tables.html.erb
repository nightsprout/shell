  <div id="ns-banner" class="ns-section-main">
    <div class="ns-section-wrapper">
      <h1 class="ns-header-basic">Tables</h1><!-- .ns-header-basic -->
    </div>
    <!-- .ns-section-wrapper -->
  </div>
  <!-- #ns-banner.ns-section-main -->

  <section class="ns-section-main">
    <div class="ns-section-wrapper">

      <h3 class="ns-header-lined">Stones Costs</h3><!-- h3.ns-header-lined -->

      <div class="ns-table-utilities">
        <div class="ns-table-utilities-left">
          <input ng-model="stoneSearch" type="text" placeholder="Search stones by keyword(s) ..." />
          <label>
            <em><ng-pluralize count="filteredStones.length" when="{'0': 'No result found out', 'one': 'Showing 1 result out', 'other': 'Showing {} results out'}"></ng-pluralize> of {{piece.piece_pricing.stones.length}} in total.</em>
          </label><!-- .ns-form-label-inline -->
        </div>
        <!-- .ns-table-utilities-left -->
        <div class="ns-table-utilities-right">
          <button class="ns-button" ng-click="showModal('ns-test-modal')">Add a Stone to Piece</button><!-- button.ns-button -->
        </div>
        <!-- .ns-table-utilities-right -->
      </div>
      <!-- .ns-table-utilities -->

      <div class="ns-table-wrapper">
        <table class="ns-table">
          <colgroup>
            <col />
            <col />
            <col />
            <col />
            <col />
            <col />
            <col />
            <col />
            <col />
            <col />
          </colgroup>
          <thead>
            <tr>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'name');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'name' }"
                >
                Name <i
                  ng-if="columnIsAscending('stones', 'name');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'name');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'count');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'count' }"
                >
                Count <i
                  ng-if="columnIsAscending('stones', 'count');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'count');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'weight');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'weight' }"
                >
                Weight <i
                  ng-if="columnIsAscending('stones', 'weight');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'weight');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'lab_rating');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'lab_rating' }"
                >
                Lab Rating <i
                  ng-if="columnIsAscending('stones', 'lab_rating');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'lab_rating');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'certification_number');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'certification_number' }"
                >
                Cert. # <i
                  ng-if="columnIsAscending('stones', 'certification_number');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'certification_number');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'measurements');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'measurements' }"
                >
                Dimensions <i
                  ng-if="columnIsAscending('stones', 'measurements');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'measurements');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'source');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'source' }"
                >
                Source <i
                  ng-if="columnIsAscending('stones', 'source');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'source');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'supplier_lot_number');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'supplier_lot_number' }"
                >
                Lot Number <i
                  ng-if="columnIsAscending('stones', 'supplier_lot_number');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'supplier_lot_number');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'dollar_per_carat');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'dollar_per_carat' }"
                >
                $ Per Carat <i
                  ng-if="columnIsAscending('stones', 'dollar_per_carat');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'dollar_per_carat');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('stones', 'cost');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['stones']['currentColumn'] == 'cost' }"
                >
                Cost <i
                  ng-if="columnIsAscending('stones', 'cost');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('stones', 'cost');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th class="ns-column-align-right">Delete?</th>
            </tr>
          </thead>
          <tbody>
            <tr
              ng-repeat="stone in filteredStones = (piece.piece_pricing.stones
                | filter: stoneSearch
                | orderBy: tableStates['stones']['currentColumn']:tableStates['stones']['reverseState'])"
              >
              <td>{{stone["name"]}}</td>
              <td>{{stone["count"]}}</td>
              <td>{{stone["weight"]}}</td>
              <td>{{stone["lab_rating"]}}</td>
              <td>{{stone["certification_number"]}}</td>
              <td>{{stone["measurements"]}}</td>
              <td>{{stone["source"]}}</td>
              <td>{{stone["supplier_lot_number"]}}</td>
              <td>{{stone["dollar_per_carat"] | currency}}</td>
              <td>{{stone["cost"] | currency}}</td>
              <td class="ns-column-align-right">
                <button
                  class="ns-button ns-button-small"
                  ng-click="deleteTableItem('stones', stone['id'])"
                  >
                  Delete
                </button><!-- button.ns-button -->
              </td>
            </tr>
            <tr class="ns-table-total">
              <td colspan="11" class="ns-column-align-right">
                Total Stones Cost: {{ totalTableSum('stones', 'cost') | currency }}
              </td>
            </tr>
          </tbody>
        </table>
        <!-- .ns-table -->
      </div>
      <!-- .ns-table-wrapper -->

      <h3 class="ns-header-lined">Metal Costs</h3><!-- h3.ns-header-lined -->

      <div class="ns-table-utilities">
        <div class="ns-table-utilities-left">
          <input ng-model="metalSearch" type="text" placeholder="Search metal by keyword(s) ..." />
          <label>
            <em><ng-pluralize count="filteredMetal.length" when="{'0': 'No result found out', 'one': 'Showing 1 result out', 'other': 'Showing {} results out'}"></ng-pluralize> of {{piece.piece_pricing.metal.length}} in total.</em>
          </label><!-- .ns-form-label-inline -->
        </div>
        <!-- .ns-table-utilities-left -->
        <div class="ns-table-utilities-right">
          <button class="ns-button" ng-click="showModal('ns-test-modal')">Add a Metal to Piece</button><!-- button.ns-button -->
        </div>
        <!-- .ns-table-utilities-right -->
      </div>
      <!-- .ns-table-utilities -->

      <div class="ns-table-wrapper">
        <table class="ns-table">
          <colgroup>
            <col />
            <col />
            <col />
            <col />
            <col />
            <col />
          </colgroup>
          <thead>
            <tr>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('metal', 'name');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['metal']['currentColumn'] == 'name' }"
                >
                Name <i
                  ng-if="columnIsAscending('metal', 'name');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('metal', 'name');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('metal', 'description');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['metal']['currentColumn'] == 'description' }"
                >
                Description <i
                  ng-if="columnIsAscending('metal', 'description');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('metal', 'description');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('metal', 'weight');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['metal']['currentColumn'] == 'weight' }"
                >
                Weight <i
                  ng-if="columnIsAscending('metal', 'weight');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('metal', 'weight');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('metal', 'source');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['metal']['currentColumn'] == 'source' }"
                >
                Source <i
                  ng-if="columnIsAscending('metal', 'source');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('metal', 'source');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('metal', 'style_number');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['metal']['currentColumn'] == 'style_number' }"
                >
                Style # <i
                  ng-if="columnIsAscending('metal', 'style_number');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('metal', 'style_number');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('metal', 'cost');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['metal']['currentColumn'] == 'cost' }"
                >
                Cost <i
                  ng-if="columnIsAscending('metal', 'cost');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('metal', 'cost');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th class="ns-column-align-right">Delete?</th>
            </tr>
          </thead>
          <tbody>
            <tr
              ng-repeat="metal in filteredMetal = (piece.piece_pricing.metal
                | filter: metalSearch
                | orderBy: tableStates['metal']['currentColumn']:tableStates['metal']['reverseState'])"
              >
              <td>{{metal["name"]}}</td>
              <td>{{metal["description"]}}</td>
              <td>{{metal["weight"]}}</td>
              <td>{{metal["source"]}}</td>
              <td>{{metal["style_number"]}}</td>
              <td>{{metal["cost"] | currency}}</td>
              <td class="ns-column-align-right">
                <button
                  class="ns-button ns-button-small"
                  ng-click="deleteTableItem('metal', metal['id'])"
                  >
                  Delete
                </button><!-- button.ns-button -->
              </td>
            </tr>
            <tr class="ns-table-total">
              <td colspan="11" class="ns-column-align-right">
                Total Metal Cost: {{ totalTableSum('metal', 'cost') | currency }}
              </td>
            </tr>
          </tbody>
        </table>
        <!-- .ns-table -->
      </div>
      <!-- .ns-table-wrapper -->

      <h3 class="ns-header-lined">Labor Costs</h3><!-- h3.ns-header-lined -->

      <div class="ns-table-utilities">
        <div class="ns-table-utilities-left">
          <input ng-model="laborSearch" type="text" placeholder="Search labor by keyword(s) ..." />
          <label>
            <em><ng-pluralize count="filteredLabor.length" when="{'0': 'No result found out', 'one': 'Showing 1 result out', 'other': 'Showing {} results out'}"></ng-pluralize> of {{piece.piece_pricing.miscellaneous.length}} in total.</em>
          </label><!-- .ns-form-label-inline -->
        </div>
        <!-- .ns-table-utilities-left -->
        <div class="ns-table-utilities-right">
          <button class="ns-button" ng-click="showModal('ns-test-modal')">Add a Labor to Piece</button><!-- button.ns-button -->
        </div>
        <!-- .ns-table-utilities-right -->
      </div>
      <!-- .ns-table-utilities -->

      <div class="ns-table-wrapper">
        <table class="ns-table">
          <colgroup>
            <col />
            <col />
            <col />
          </colgroup>
          <thead>
            <tr>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('labor', 'name');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['labor']['currentColumn'] == 'name' }"
                >
                Name <i
                  ng-if="columnIsAscending('labor', 'name');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('labor', 'name');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('labor', 'description');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['labor']['currentColumn'] == 'description' }"
                >
                Description <i
                  ng-if="columnIsAscending('labor', 'description');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('labor', 'description');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th
                class="ns-sortable-column"
                ng-click="setActiveColumn('labor', 'cost');"
                ng-class="{ 'ns-sortable-column-current' : tableStates['labor']['currentColumn'] == 'cost' }"
                >
                Cost <i
                  ng-if="columnIsAscending('labor', 'cost');"
                  class="ss-icon"
                  >
                  down
                </i>
                <i
                  ng-if="columnIsDescending('labor', 'cost');"
                  class="ss-icon"
                  >
                  up
                </i>
              </th>
              <th class="ns-column-align-right">Delete?</th>
            </tr>
          </thead>
          <tbody>
            <tr
              ng-repeat="labor in filteredLabor = (piece.piece_pricing.labor
                | filter: laborSearch
                | orderBy: tableStates['labor']['currentColumn']:tableStates['labor']['reverseState'])"
              >
              <td>{{labor["name"]}}</td>
              <td>{{labor["description"]}}</td>
              <td>{{labor["cost"] | currency}}</td>
              <td class="ns-column-align-right">
                <button
                  class="ns-button ns-button-small"
                  ng-click="deleteTableItem('labor', labor['id'])"
                  >
                  Delete
                </button><!-- button.ns-button -->
              </td>
            </tr>
            <tr class="ns-table-total">
              <td colspan="11" class="ns-column-align-right">
                Total Labor Cost: {{ totalTableSum('labor', 'cost') | currency }}
              </td>
            </tr>
          </tbody>
        </table>
        <!-- .ns-table -->
      </div>
      <!-- .ns-table-wrapper -->

    </div>
    <!-- .ns-section-wrapper -->
  </section>
  <!-- section.ns-section-main -->







